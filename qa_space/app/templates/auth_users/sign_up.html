<!doctype html>
<html lang="en">
<head>
    {% include 'header.html' %}
    <link rel="stylesheet" href="/static/css/login.css">
</head>
<body>
<div class="container">
    <div class="row">
        <div class="card">
            <div class="header">
                <h3 class="title">Sign up</h3>
            </div>
            <div class="content">
                <form action="{{ auth_service_address }}/form_users" method="post">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>First name</label>
                                <input required type="text" class="form-control" placeholder="First name" name="first_name">
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Last name</label>
                                <input required type="text" class="form-control" placeholder="Last name" name="last_name">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label>Email</label>
                                <input required type="email" class="form-control" placeholder="Email" name="email">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label>Password</label>
                                <input required type="password" class="form-control" placeholder="Password" name="password">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label>Password repeat</label>
                                <input required type="password" class="form-control" placeholder="Password repeat" name="password_repeat">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <button type="submit" class="btn btn-info btn-fill pull-right">Create</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="card-foo ter text-muted ">
            <a id="sign-up-link" href="/login" class="card-link">Login</a>
        </div>
    </div>
</div>
{% include 'js_scripts.html' %}

<script type="text/javascript">
    function login() {
        var xhr = new XMLHttpRequest();
        var url = "{{ auth_service_address }}/login";
        xhr.open("POST", url, true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                var json = JSON.parse(xhr.responseText);
            } else {
                console.error(xhr.responseText);
            }
        };
        var data = JSON.stringify({"email": $("#inputEmail").val(), "password": $("#inputPassword").val()});
        xhr.send(data);
    }
</script>

</body>
</html>